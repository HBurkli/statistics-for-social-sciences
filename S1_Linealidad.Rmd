---
title: "S1_ Linealidad"
author: "Sebastián Daniel Gómez Farje"
date: "2023-04-07"
output: html_document
---

¡Bienvenidos! El tema de esta semana se trata de los supuestos de una regresión lineal. Recordemos que una regresión lineal es un modelo estadístico que permite analizar la relación entre una variable dependiente y una o más variables independientes. Sin embargo, para obtener resultados confiables y precisos, es necesario cumplir con ciertos supuestos o condiciones. En este sesión veremos el supuesto de linealidad.

# 1. Parte teórica

El supuesto de linealidad se refiere a la existencia de una relación lineal entre las variables independientes y la variable dependiente. Si no existiera una relación entre la variable dependiente y las variables independientes que vamos a utilizar, entonces la interpretación del modelo será limitada.

# 2. Aplicación práctica

En este ejemplo, usaremos una base de datos de la NBA disponible en Kaggle. El objetivo final será predecir el número de puntos anotados por un jugador en función del número de asistencias que ha realizado y el número de rebotes obtenidos por partido.  

## Cargamos las librerías

```{r}
#install.packages("readr") - Instalar la librería en la consola
#install.packages("carData")
library(readr) # Cargar la librería
library(car) # para realizar la prueba VIF
```

## Cargamos la base de datos

Esta base de datos contiene estadísticas de jugadores de la NBA durante la temporada 2014-2015, incluyendo información como puntos anotados, asistencias, rebotes, porcentaje de tiros de campo, entre otras. 

```{r}
players_stats <- read_csv("players_stats.csv")
```

## 2.1. Creamos el modelo

En este ejemplo, utilizaremos las variables REB (rebotes anotados) y AST (asistencias por partido) como nuestras variables independientes.

```{r}
Modelo <- lm(PTS ~ AST + REB, data = players_stats)
summary(Modelo)
```

## 2.2. Comprobamos el supuesto

### Gráficos

Una primera manera de comprobar la Linealidad es de manera gráfica. Para ello, simplemente graficamos el modelo con la función $plot( , 1)$ o $check_model()$.

```{r}
plot(Modelo, 1)
```

```{r}
library(performance)
check_model(Modelo)
```

Con ambos gráficos, la línea de aproximación de los valores debe acercarse al 0. Podemos observar que, en general, esta línea sí suele mantenerse de forma horizontal y cercana al valor 0.

### Pruebas de correlación

Una segunda manera de verificar el supuesto de Linealidad es realizando pruebas de correlación entre la variable dependiente y el resto de independientes.

```{r}
cor.test(players_stats$PTS, players_stats$AST)
cor.test(players_stats$PTS, players_stats$REB)
```

Siguiendo los parámetros de ____, se determina que las correlaciones entre las variables independientes y la dependiente son medianas/fuertes. 

## 2.3. Interpretación

Las pruebas gráficas demostraron que, visualmente, la línea de aproximación de los valores se mantiene cercana a 0 y horizontal en su mayoría. Además, las pruebas de correlación indicaron una correlación mediana/fuerte entre la variable dependiente y las independientes. Entonces, se determina que sí hay relación significativa entre la variable dependiente y las independientes, por lo que se cumple el supuesto de Linealidad.

Enlace a la base de datos: 

- https://www.kaggle.com/datasets/drgilermo/nba-players-stats-20142015